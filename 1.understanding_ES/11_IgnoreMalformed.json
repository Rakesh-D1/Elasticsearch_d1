curl --location --request PUT 'localhost:9200/microservice-logs/_settings' --data-raw '
{
    "index.mapping.ignore_malformed": true
}
'

curl --request POST  'localhost:9200/microservice-logs/_open'

curl --request GET  'localhost:9200/microservice-logs/_search?pretty'


curl --request POST  'localhost:9200/microservice-logs/_doc?pretty' --data-raw '
{
    "timestamp": "2020-04-11T12:34:56.789Z", "service": "XYZ", "host_ip": "10.0.2.15", "port": "none", "message": "Invalid port value" 
}
'

curl --request GET  'localhost:9200/microservice-logs/_doc/_sFeepgBvpX6A2WKIZOt?pretty'

curl --request POST  'localhost:9200/microservice-logs/_doc?pretty' --data-raw '
{
    "timestamp": "2020-04-11T12:34:56.789Z", "service": "XYZ", "host_ip": "10.0.2.15", "port": "", "message": "Empty port field" 
}
'

curl --request GET  'localhost:9200/microservice-logs/_doc/_8FfepgBvpX6A2WK8JOo?pretty'

curl --request POST  'localhost:9200/microservice-logs/_doc?pretty' --data-raw '
{
    "timestamp": "2020-04-11T12:34:56.789Z", "service": "XYZ", "host_ip": "10.0.2.15", "port": "", "message": "Empty port field", "payload": "Some data"
}
'


curl --request GET  'localhost:9200/microservice-logs/_doc/AMFkepgBvpX6A2WKnJTg?pretty'

curl --request GET  'localhost:9200/microservice-logs/_mappings?pretty'


curl --request POST  'localhost:9200/microservice-logs/_doc?pretty' --data-raw '
{
    "timestamp": "2020-04-11T12:34:56.789Z", "service": "XYZ", "host_ip": "10.0.2.15", "port": "", "message": "Adding a new message"
}
'

curl --request POST  'localhost:9200/microservice-logs/_close'

curl --request GET  'localhost:9200/_cat/indices?v'


curl --location --request PUT 'localhost:9200/microservice-logs/_settings' --data-raw '
{
    "index.mapping.ignore_malformed": false
}
'
curl --request POST  'localhost:9200/microservice-logs/_open'

curl --request GET  'localhost:9200/microservice-logs/_search?pretty'

curl --request POST  'localhost:9200/microservice-logs/_doc?pretty' --data-raw '
{
    "timestamp": "2020-04-11T12:34:56.789Z", "service": "XYZ", "host_ip": "10.0.2.15", "port": 9800, "message": {"data": {"recieved": "here"}}
}
'

curl --request POST  'localhost:9200/microservice-logs/_close'

curl --location --request PUT 'localhost:9200/microservice-logs/_settings' --data-raw '
{
    "index.mapping.ignore_malformed": true
}
'

curl --request POST  'localhost:9200/microservice-logs/_open'


curl --request POST  'localhost:9200/microservice-logs/_doc?pretty' --data-raw '
{
    "timestamp": "2020-04-11T12:34:56.789Z", "service": "XYZ", "host_ip": "10.0.2.15", "port": 9800, "message": {"data": {"recieved": "here"}}
}
'

curl --request GET  'localhost:9200/microservice-logs/_mappings'

curl --request POST  'localhost:9200/microservice-logs/_doc?pretty' --data-raw '
{
    "timestamp": "2020-04-11T12:34:56.789Z", "service": "XYZ", "host_ip": "10.0.2.15", "port": "", "message": "Empty port field", "payload": "Some more data added"
}
'


-----------------------------------------------------------------------------
thousandone_fields_json=$(echo {1..1001..1} | jq -Rn '( input | split(" ")) as $nums | $nums[] | . as $key | [{key:($key|tostring),value:($key|tonumber)}] | from_entries' | jq -cs 'add')

curl --location --request PUT 'localhost:9200/big-objects'


curl --request POST  'localhost:9200/big-objects/_doc?pretty' --data-raw "$thousandone_fields_json"

curl --request POST  'localhost:9200/big-objects/_close'


curl --location --request PUT 'localhost:9200/big-objects/_settings' --data-raw '
{
    "index.mapping.total_fields.limit": 1001
}
'
curl --request POST  'localhost:9200/big-objects/_open'

curl --request POST  'localhost:9200/big-objects/_doc?pretty' --data-raw "$thousandone_fields_json"

curl --request GET  'localhost:9200/big-objects/_doc/BsGdepgBvpX6A2WKaZQJ?pretty'

curl --request GET  'localhost:9200/big-objectss/_mappings?pretty'