curl -XPUT 127.0.0.1:9200/series -d '
{
    "mappings" : {
        "properties" : {
            "film_to_franchise" : {
                "type" : "join",
                "relations" : {"franchise" : "film"}
            } 
        }
    } 
}
'

curl -XGET 127.0.0.1:9200/series/_search?pretty -d '
{
    "query" : {
        "has_parent" : {
            "parent_type" : "franchise" ,
            "query" : {
                "match" : {
                    "title" : "Star Wars"
                }
            }
        }
    }
}
'

/usr/bin/curl  -H "Content-Type: application/x-ndjson" -XPUT 127.0.0.1:9200/_bulk?pretty --data-binary @series.json 

curl -XPOST "127.0.0.1:9200/series/_search?pretty" -H "Content-Type: application/ndjson" -d '
{
  "query": {
    "has_parent": {
      "parent_type": "franchise",
      "query": {
        "match": {
          "title": "Star Wars"
        }
      }
    }
  }
}'


5.json